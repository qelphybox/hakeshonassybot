<!--todo: delete after test-->
<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <input id="clickMe" type="button" value="logout" onclick="logout();" />
</body>
<script async src="https://telegram.org/js/telegram-widget.js?14" data-telegram-login="hakeshonassybot_develop_bot" data-size="small" data-onauth="onTelegramAuth(user)" data-request-access="write"></script>
<script type="text/javascript">
  function onTelegramAuth(user) {
    const Http = new XMLHttpRequest();
    const url=`/auth/callback?${Object.keys(user).map(key => `${key}=${user[key]}`).join('&')}`;
    Http.open("GET", url);
    Http.send();
  }
</script>
<script type="text/javascript">
  function logout() {
    const Http = new XMLHttpRequest();
    const url=`/auth/logout`;
    Http.open("GET", url);
    Http.send();
  }
</script>
</html>
